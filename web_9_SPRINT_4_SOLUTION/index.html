<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Authentication</title>
    <style>
	body {
	    font-family: Arial, sans-serif;
	    background-color: #f4f4f4;
	    margin: 0 auto;
	    padding: 0;
	    width: 70%;
	}

	.container {
	    max-width: 600px;
	    margin: 50px auto;
	    padding: 20px;
	    background-color: #fff;
	    border-radius: 5px;
	    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
	}

	h2 {
	    text-align: center;
	    color: #333;
	}

	form {
	    margin-top: 20px;
	}

	label {
	    display: block;
	    margin-bottom: 5px;
	    font-weight: bold;
	}

	input[type="email"],
	input[type="password"],
	input[type="text"],
	input[type="date"] {
	    width: 100%;
	    padding: 8px;
	    margin-bottom: 10px;
	    border: 1px solid #ccc;
	    border-radius: 4px;
	    box-sizing: border-box;
	}

	button[type="submit"],
	#logoutBtn {
	    width: 100%;
	    background-color: #4caf50;
	    color: #fff;
	    padding: 10px;
	    border: none;
	    border-radius: 4px;
	    cursor: pointer;
	    font-size: 16px;
	}

	button[type="submit"]:hover,
	#logoutBtn:hover {
	    background-color: #45a049;
	}

	a {
	    color: #4caf50;
	    text-decoration: none;
	}

	a:hover {
	    text-decoration: underline;
	}
	
	select {
	    width: 100%;
	    padding: 8px;
	    margin-bottom: 10px;
	    border: 1px solid #ccc;
	    border-radius: 4px;
	    box-sizing: border-box;
	    appearance: none;
	    background-image: url('data:image/svg+xml;utf8,<svg fill="#000000" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path d="M7 10l5 5 5-5z"/></svg>');
	    background-repeat: no-repeat;
	    background-position: right 10px center;
	    cursor: pointer;
	}

	select option {
	    padding: 8px;
	}
    </style>
</head>
<body>
    <div id="loginPage">
        <h2>Login</h2>
        <form id="loginForm">
            <label for="loginEmail">Email:</label>
            <input type="email" id="loginEmail" name="email" required><br>
            <label for="loginPassword">Password:</label>
            <input type="password" id="loginPassword" name="password" required><br>
            <button type="submit">Login</button>
        </form>
        <p>Don't have an account? <a href="#" id="showRegistration">Register now</a></p>
    </div>

    <div id="registrationPage" style="display: none;">
        <h2>Registration</h2>
        <form id="registrationForm">
            <label for="regEmail">Email:</label>
            <input type="email" id="regEmail" name="email" required><br>
            <label for="regPassword">Password:</label>
            <input type="password" id="regPassword" name="password" required><br>
            <label for="regFullName">Full Name:</label>
            <input type="text" id="regFullName" name="full_name" required><br>
            <label for="regCountry">Country:</label>
            <select id="regCountry" name="country" required>
		 <option value="">Select Country</option>
		 <option value="USA">USA</option>
		 <option value="Canada">Canada</option>
		 <option value="UK">UK</option>
		 <option value="Kazakhstan">Kazakhstan</option>
	    </select><br>
            <label for="regBirthdate">Birthdate:</label>
            <input type="date" id="regBirthdate" name="birthdate" required><br>
            <button type="submit">Register</button>
        </form>
        <p>Already have an account? <a href="#" id="showLogin">Login here</a></p>
    </div>

    <div id="profilePage" style="display: none;">
        <h2>Profile</h2>
        <div id="userProfile"></div>
        <button id="logoutBtn">Logout</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const loginPage = document.getElementById('loginPage');
            const registrationPage = document.getElementById('registrationPage');
            const profilePage = document.getElementById('profilePage');
            const loginForm = document.getElementById('loginForm');
            const registrationForm = document.getElementById('registrationForm');
            const userProfile = document.getElementById('userProfile');
            const logoutBtn = document.getElementById('logoutBtn');
            const showRegistrationLink = document.getElementById('showRegistration');
            const showLoginLink = document.getElementById('showLogin');

            // Check if user is already logged in
            const isLoggedIn = localStorage.getItem('loggedIn');
            if (isLoggedIn) {
                showProfilePage();
            }

            loginForm.addEventListener('submit', function(event) {
                event.preventDefault();
                const email = document.getElementById('loginEmail').value;
                const password = document.getElementById('loginPassword').value;
                const users = JSON.parse(localStorage.getItem('users')) || [];

                const user = users.find(u => u.email === email && u.password === password);
                if (user) {
                    localStorage.setItem('loggedIn', true);
                    showProfilePage(user);
                } else {
                    alert('Invalid email or password');
                }
            });

            registrationForm.addEventListener('submit', function(event) {
                event.preventDefault();
                const email = document.getElementById('regEmail').value;
                const password = document.getElementById('regPassword').value;
                const full_name = document.getElementById('regFullName').value;
                const country = document.getElementById('regCountry').value;
                const birthdate = document.getElementById('regBirthdate').value;

                const newUser = {
                    email,
                    password,
                    full_name,
                    country,
                    birthdate
                };

                let users = JSON.parse(localStorage.getItem('users')) || [];
                users.push(newUser);
                localStorage.setItem('users', JSON.stringify(users));
                alert('Registration successful. Please login.');
                showLoginPage();
            });

            logoutBtn.addEventListener('click', function() {
                localStorage.removeItem('loggedIn');
                hideProfilePage();
            });

            showRegistrationLink.addEventListener('click', function(event) {
                event.preventDefault();
                showRegistrationPage();
            });

            showLoginLink.addEventListener('click', function(event) {
                event.preventDefault();
                showLoginPage();
            });

            function showLoginPage() {
                loginPage.style.display = 'block';
                registrationPage.style.display = 'none';
                profilePage.style.display = 'none';
            }

            function showRegistrationPage() {
                loginPage.style.display = 'none';
                registrationPage.style.display = 'block';
                profilePage.style.display = 'none';
            }

            function showProfilePage(user) {
                loginPage.style.display = 'none';
                registrationPage.style.display = 'none';
                profilePage.style.display = 'block';
                if (user) {
                    userProfile.innerHTML = `
                        <p><strong>Email:</strong> ${user.email}</p>
                        <p><strong>Full Name:</strong> ${user.full_name}</p>
                        <p><strong>Country:</strong> ${user.country}</p>
                        <p><strong>Birthdate:</strong> ${user.birthdate}</p>
                    `;
                }
            }

            function hideProfilePage() {
                loginPage.style.display = 'block';
                registrationPage.style.display = 'none';
                profilePage.style.display = 'none';
            }
        });
    </script>
</body>
</html>

